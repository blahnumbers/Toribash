STEP;
OPT hud 0;
OPT blood 0;
OPT bloodstains 0;
OPT bruise 0;
OPT focuscam 0;
OPT uke 1;
OPT tori 1;
KEYBOARDLOCK;
JOINTLOCK;
DISABLECAMERA;
LOADREPLAY t2_stage1_intro.rpl;
LOADPLAYER 0 PLAYER;

STEP;
PLAYFRAMES 50;
INTROFADE;

STEP;
SHOWSAYMESSAGE;
SAY SENSEI;
MESSAGE INTROSENSEI1;
WAITBUTTON;

STEP;
PLAYFRAMES 40;
SAY SENSEI;
MESSAGE INTROSENSEI2;
WAITBUTTON;

STEP;
SAY SENSEI;
PLAYFRAMES 40;
MESSAGE INTROSENSEI3;
WAITBUTTON;

STEP;
PLAYFRAMES 30;

STEP;
DELAY 0.2;

STEP;
PLAYFRAMES 30;

STEP;
DELAY 0.2;

STEP;
PLAYFRAMES 30;
WAITBUTTON;

STEP;
SAY SENSEI;
PLAYFRAMES 110;
MESSAGE SENSEINOOBCLAP1;
WAITBUTTON;

STEP;
SAY SENSEI;
MESSAGE SENSEINOOBCLAP2;
WAITBUTTON;

STEP;
PLAYFRAMES 150;
SAY SENSEI;
MESSAGE SENSEINOOBCLAP3;
WAITBUTTON;

STEP;
HIDESAYMESSAGE;
HIDEWAITBUTTON;
PLAYFRAMES 40;
OUTROFADE;

STEP;
LOADREPLAY t2_stage1.rpl;
LOADPLAYER 0 PLAYER;
//LOADPLAYER 1 SENSEI;

STEP;
ADVANCE;
INTROFADE;

STEP;
OPT focuscam 1;
OPT tooltip 1;
PLAYERLOCK 1;
EDITGAME;
ENABLECAMERA;
SHOWTASKMESSAGE;
TASK NOOBCLAPTASK;
MOVEPLAYER UKE HOLDALL;
MOVEPLAYER UKE ABS BACK;
SHOWHINTMESSAGE;
MESSAGE NOOBCLAPHINT1;
KEYBOARDUNLOCK WASDC;
CUSTOMFUNC RequireKeyPressC;

STEP;
KEYBOARDLOCK;
KEYBOARDUNLOCK WASD;
MESSAGE NOOBCLAPHINT2;
SHOWWAITBUTTON;
WAITBUTTON;

STEP;
HIDEWAITBUTTON;
MESSAGE NOOBCLAPHINT3;
KEYBOARDUNLOCK WASDXZ;
MOVEJOINT L_PECS BACK;
MOVEJOINT R_PECS BACK;

STEP;
KEYBOARDLOCK;
KEYBOARDUNLOCK WASD ;
MESSAGE NOOBCLAPHINT4;
CUSTOMFUNC RequireKeyPressSpace;

STEP;
KEYBOARDLOCK;
HIDEHINTMESSAGE;
OPT tooltip 0;
PLAYFRAMES 30;
TASKCOMPLETE;
ADVANCE;

STEP;
PLAYFRAMES 20;
SHOWSAYMESSAGE;
SAY SENSEI;
MESSAGE SENSEINOOBCLAP4;
SHOWWAITBUTTON;
WAITBUTTON;

STEP;
HIDETASKMESSAGE;
HIDESAYMESSAGE;
OUTROFADE;
ADVANCE;

STEP;
OPT focuscam 0;
DISABLECAMERA;
LOADREPLAY t2_stage2_intro.rpl;
INTROFADE;
LOADPLAYER 0 PLAYER;
//LOADPLAYER 1 SENSEI;
PLAYFRAMES 40;

STEP;
PLAYFRAMES 60;
SHOWSAYMESSAGE;
SAY SENSEI;
MESSAGE SENSEIPUNCH1;
WAITBUTTON;

STEP;
PLAYFRAMES 20;
SAY SENSEI;
MESSAGE SENSEIPUNCH2;
WAITBUTTON;

STEP;
PLAYFRAMES 29;

STEP;
DELAY 0.1;

STEP;
PLAYFRAMES 71;

STEP;
PLAYFRAMES 100;
SAY SENSEI;
MESSAGE SENSEIPUNCH3;
WAITBUTTON;

STEP;
SAY SENSEI;
PLAYFRAMES 100;
MESSAGE SENSEIPUNCH4;
WAITBUTTON;

STEP;
PLAYFRAMES 40;
HIDESAYMESSAGE;
ADVANCE;
OUTROFADE;

STEP;
INTROFADE;
LOADREPLAY t2_stage2.rpl;
LOADPLAYER 0 PLAYER;
//LOADPLAYER 1 SENSEI;

STEP;
OPT focuscam 1;
OPT tooltip 1;
PLAYERLOCK 1;
ENABLECAMERA;
EDITGAME;
MOVEPLAYER UKE HOLDALL;
MOVEPLAYER UKE ABS BACK;
KEYBOARDUNLOCK WASDC;
SHOWTASKMESSAGE;
TASK PUNCHTASK;
SHOWHINTMESSAGE;
MESSAGE PUNCHHINT1;
CUSTOMFUNC RequireKeyPressC;

STEP;
MESSAGE PUNCHHINT2;
KEYBOARDLOCK;
KEYBOARDUNLOCK WASDZX;
MOVEJOINT R_SHOULDER RELAX;
MOVEJOINT L_SHOULDER RELAX;
MOVEJOINT R_ELBOW BACK;
MOVEJOINT L_ELBOW BACK;

STEP;
KEYBOARDLOCK;
KEYBOARDUNLOCK WASD;
MESSAGE PUNCHHINT3;
WAITBUTTON;

STEP;
KEYBOARDUNLOCK  ;
MESSAGE PUNCHHINT4;
HIDEWAITBUTTON;
CUSTOMFUNC RequireKeyPressSpace;

STEP;
SHOWWAITBUTTON;
KEYBOARDLOCK;
KEYBOARDUNLOCK WASD;
PLAYFRAMES 50;
ADVANCE;

STEP;
KEYBOARDUNLOCK ZX;
MESSAGE PUNCHHINT5;
MOVEJOINT CHEST BACK;

STEP;
MESSAGE PUNCHHINT6;
MOVEJOINT R_PECS BACK;
MOVEJOINT R_ELBOW FORWARD;

STEP;
MESSAGE PUNCHHINT7;
WAITBUTTON;

STEP;
TASKOPT 1	PUNCHTASKOPT;
KEYBOARDUNLOCK  ;
MESSAGE PUNCHHINT8;
MOVEJOINTOPTIONAL R_SHOULDER BACK 1;
MOVEJOINTOPTIONAL R_WRIST FORWARD 1;
HIDEWAITBUTTON;
CUSTOMFUNC RequireKeyPressSpace;

STEP;
KEYBOARDLOCK;
TASKCOMPLETE;
PLAYFRAMES 50;
HIDEHINTMESSAGE;
SHOWSAYMESSAGE;
SAY SENSEI;
MESSAGE SENSEIPUNCHOPTINCOMPLETE;
STEPSKIP 1;

STEP;
KEYBOARDLOCK;
TASKCOMPLETE;
PLAYFRAMES 50;
HIDEHINTMESSAGE;
SHOWSAYMESSAGE;
SAY SENSEI;
MESSAGE SENSEIPUNCHOPTCOMPLETE;

STEP;
HIDETASKMESSAGE;
ADVANCE;
WAITBUTTON;

STEP;
SAY SENSEI;
MESSAGE SENSEIPUNCH5;
WAITBUTTON;

STEP;
HIDESAYMESSAGE;
OUTROFADE;

STEP;
OPT focuscam 0;
DISABLECAMERA;
LOADREPLAY t2_stage3.rpl;
LOADPLAYER 0 PLAYER;
//LOADPLAYER 1 SENSEI;
INTROFADE;

STEP;
CUSTOMFUNC LockPunchingBag;
DELAY 0;

STEP;
PLAYFRAMES 60;
SHOWSAYMESSAGE;
SAY SENSEI;
MESSAGE SENSEIFINAL1;
WAITBUTTON;

STEP;
PLAYFRAMES 40;
SAY SENSEI;
MESSAGE SENSEIFINAL2;
CUSTOMFUNC ShowDamageBar;
WAITBUTTON;

STEP;
PLAYFRAMES 50;
SAY SENSEI;
MESSAGE SENSEIFINAL3;

STEP;
CUSTOMFUNC ShowTimer;
WAITBUTTON;

STEP;
HIDEWAITBUTTON;
CAMERAMODE 4;
DELAY 0;

STEP;
ADVANCE;
DELAY 0;
STEPSKIP 7;

STEP;
JOINTLOCK;
KEYBOARDLOCK;
SHOWSAYMESSAGE;
HIDETASKMESSAGE;
CUSTOMFUNC ClearStaticHooks;
SAY SENSEI;
MESSAGE SENSEIFINALTIMEUP;
WAITBUTTON;

STEP;
HIDESAYMESSAGE;
OUTROFADE;

STEP;
OPT focuscam 0;
DISABLECAMERA;
LOADREPLAY t2_stage3.rpl;
LOADPLAYER 0 PLAYER;
//LOADPLAYER 1 SENSEI;

STEP;
CUSTOMFUNC LockPunchingBag;
DELAY 0;

STEP;
INTROFADE;
PLAYFRAMES 80;

STEP;
PLAYFRAMES 70;
SHOWSAYMESSAGE;
SAY SENSEI;
MESSAGE SENSEIFINALRESTART;

STEP;
CUSTOMFUNC ShowDamageAndTimer;
CAMERAMODE 4;
WAITBUTTON;

STEP;
OPT focuscam 1;
ENABLECAMERA;
CAMERAMODE 0;
EDITGAME;
OPT tooltip 1;
GHOSTMODE ALL;
KEYBOARDUNLOCK WASDZXC ;
JOINTUNLOCK;
SHOWTASKMESSAGE;
HIDESAYMESSAGE;
TASK FINALTASK;
TASKOPT 1	FINALTASKMAIN;
TASKOPT 0	FINALTASKOPT;
DAMAGE 100000;
FAILFRAME 650;
STEPFALLBACK 7;

STEP;
TASKOPTCOMPLETE 1;
DAMAGEOPT 500000;
PROCEEDFRAME 650;
CUSTOMFUNC WaitButtonMini;

STEP;
KEYBOARDLOCK;
JOINTLOCK;
SHOWSAYMESSAGE;
SAY SENSEI;
TASKCOMPLETE;
MESSAGE SENSEIFINALOPTINCOMPLETE;
CUSTOMFUNC ClearStaticHooks;
WAITBUTTON;
STEPSKIP 2;

STEP;
KEYBOARDLOCK;
JOINTLOCK;
SHOWSAYMESSAGE;
SAY SENSEI;
TASKCOMPLETE;
MESSAGE SENSEIFINALOPTCOMPLETE;
CUSTOMFUNC ClearStaticHooksAch;
WAITBUTTON;

STEP;
SAY SENSEI;
MESSAGE SENSEIFINALOPTCOMPLETE2;
WAITBUTTON;

STEP;
ADVANCE;
DELAY 0;

STEP;
HIDETASKMESSAGE;
SAY SENSEI;
MESSAGE SENSEIFINAL4;
WAITBUTTON;

STEP;
HIDESAYMESSAGE;
OUTROFADE;

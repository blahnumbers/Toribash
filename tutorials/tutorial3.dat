STEP;
OPT hud 0;
OPT blood 0;
OPT bloodstains 0;
OPT bruise 0;
OPT focuscam 0;
OPT uke 1;
OPT tori 1;
OPT backgroundclick 0;
KEYBOARDLOCK;
JOINTLOCK;
LOADREPLAY t3_stage1.rpl;
LOADPLAYER 0 PLAYER;
//LOADPLAYER 1 SENSEI;

STEP;
INTROFADE;

STEP;
SHOWSAYMESSAGE;
SAY SENSEI;
MESSAGE SENSEIKICK1;
WAITBUTTON;

STEP;
SAY SENSEI;
MESSAGE SENSEIKICK2;
WAITBUTTON;

STEP;
OPT focuscam 1;
OPT tooltip 1;
EDITGAME;
PLAYERLOCK 1;
SHOWTASKMESSAGE;
TASK KICKTASK;
KEYBOARDUNLOCK WASD;
GHOSTMODE TORI;
SAY SENSEI;
MESSAGE SENSEIKICK3;
HIDEWAITBUTTON;
CUSTOMFUNC MoveMessageViewMobile;
ADVANCE;

STEP;
KEYBOARDUNLOCK C;
CUSTOMFUNC RequireKeyPressCShow;

STEP;
KEYBOARDLOCK;
KEYBOARDUNLOCK WASD;
CUSTOMFUNC MoveMessageViewMobileBack;
SAY SENSEI;
MESSAGE SENSEIKICK4;

STEP;
KEYBOARDUNLOCK XZ;
MOVEJOINT L_KNEE BACK;
MOVEJOINT L_HIP FORWARD;

STEP;
KEYBOARDLOCK;
KEYBOARDUNLOCK WASD;
SAY SENSEI;
MESSAGE SENSEIKICK5;

STEP;
KEYBOARDUNLOCK  ;
CUSTOMFUNC RequireKeyPressSpaceShow;

STEP;
KEYBOARDLOCK;
KEYBOARDUNLOCK WASD;
PLAYFRAMES 20;
ADVANCE;

STEP;
SAY SENSEI;
MESSAGE SENSEIKICK6;

STEP;
KEYBOARDUNLOCK ZX;
MOVEJOINT L_KNEE FORWARD;

STEP;
KEYBOARDLOCK;
KEYBOARDUNLOCK WASD;
ADVANCE;
SAY SENSEI;
MESSAGE SENSEIKICK7;
WAITBUTTON;

STEP;
SAY SENSEI;
MESSAGE SENSEIKICK8;
HIDEWAITBUTTON;

STEP;
KEYBOARDUNLOCK ZX;
MOVEJOINT R_HIP BACK;

STEP;
KEYBOARDLOCK;
KEYBOARDUNLOCK WASD;
SAY SENSEI;
MESSAGE SENSEIKICK9;

STEP;
KEYBOARDUNLOCK  ;
CUSTOMFUNC RequireKeyPressSpaceShow;

STEP 15;
TASKCOMPLETE;
SAY PLAYER;
MESSAGE PLAYERKICK1;
KEYBOARDLOCK;
KEYBOARDUNLOCK WASD;
PLAYFRAMES 10;
ADVANCE;

STEP;
PLAYSOUND 22;
PLAYFRAMES 10;

STEP;
MOVEPLAYER TORI ABS FORWARD;
MOVEPLAYER TORI R_HIP FORWARD;
MOVEPLAYER TORI L_HIP RELAX;
MOVEPLAYER TORI L_KNEE BACK;
PLAYFRAMES 8;

STEP;
MOVEPLAYER TORI CHEST HOLD;
MOVEPLAYER TORI LUMBAR HOLD;
MOVEPLAYER TORI L_GLUTE BACK;
MOVEPLAYER TORI R_HIP HOLD;
MOVEPLAYER TORI L_KNEE HOLD;
MOVEPLAYER TORI L_ANKLE FORWARD;
PLAYFRAMES 5;

STEP;
MOVEPLAYER TORI LUMBAR RELAX;
MOVEPLAYER TORI L_GLUTE RELAX;
PLAYFRAMES 20;

STEP;
MOVEPLAYER TORI RELAXALL;
PLAYFRAMES 7;

STEP;
MOVEPLAYER TORI CHEST HOLD;
MOVEPLAYER TORI LUMBAR FORWARD;
MOVEPLAYER TORI ABS HOLD;
MOVEPLAYER TORI R_PECS HOLD;
MOVEPLAYER TORI L_PECS HOLD;
MOVEPLAYER TORI R_GLUTE HOLD;
MOVEPLAYER TORI L_GLUTE HOLD;
PLAYFRAMES 11;

STEP;
MOVEPLAYER TORI LUMBAR HOLD;
MOVEPLAYER TORI ABS HOLD;
MOVEPLAYER TORI L_ANKLE BACK;
PLAYFRAMES 8;

STEP;
MOVEPLAYER TORI HOLDALL;
MOVEPLAYER TORI ABS FORWARD;
MOVEPLAYER TORI R_SHOULDER RELAX;
MOVEPLAYER TORI L_SHOULDER RELAX;
MOVEPLAYER TORI R_HIP RELAX;
PLAYFRAMES 40;
SAY SENSEI;
MESSAGE SENSEIKICK10;

STEP;
GHOSTMODE NONE;
WAITBUTTON;

STEP;
HIDETASKMESSAGE;
HIDESAYMESSAGE;
OUTROFADE;

STEP;
LOADREPLAY t3_stage2.rpl;
LOADPLAYER 0 PLAYER;
//LOADPLAYER 1 SENSEI;
INTROFADE;

STEP;
SHOWSAYMESSAGE;
SAY SENSEI;
MESSAGE SENSEIADVKICK1;
WAITBUTTON;

STEP;
SAY SENSEI;
MESSAGE SENSEIADVKICK2;
ADVANCE;
WAITBUTTON;

STEP;
EDITGAME;
KEYBOARDUNLOCK C;
HIDESAYMESSAGE;
SHOWHINTMESSAGE;
SHOWTASKMESSAGE;
TASK ADVKICKTASK;
MESSAGE HINTADVKICK1;
CUSTOMFUNC RequireKeyPressC;
ADVANCE;
HIDEWAITBUTTON;

STEP;
MESSAGE HINTADVKICK2;
KEYBOARDLOCK;
KEYBOARDUNLOCK WASDZX;
MOVEJOINT L_HIP FORWARD;
MOVEJOINT L_KNEE BACK;
MOVEJOINT R_HIP BACK;
ADVANCE;

STEP;
MESSAGE HINTADVKICK3;
MOVEJOINT CHEST BACK;
MOVEJOINT R_PECS BACK;
ADVANCE;

STEP;
MESSAGE HINTADVKICK4;
MOVEJOINT R_GLUTE BACK;
MOVEJOINT L_GLUTE BACK;
ADVANCE;

STEP;
SHOWSAYMESSAGE;
SAY SENSEI;
MESSAGE SENSEIADVKICK3;
ADVANCE;

STEP;
MESSAGE HINTADVKICK5;
DELAY 1;

STEP;
HIDESAYMESSAGE;
WAITBUTTON;

STEP;
MESSAGE HINTADVKICK6;
MOVEJOINT LUMBAR FORWARD;

STEP;
MESSAGE HINTADVKICK7;
WAITBUTTON;

STEP;
MESSAGE HINTADVKICK8;
MOVEJOINT LUMBAR BACK;
HIDEWAITBUTTON;

STEP;
MESSAGE HINTADVKICK9;
KEYBOARDLOCK;
KEYBOARDUNLOCK WASD ;
CUSTOMFUNC RequireKeyPressSpace;
ADVANCE;

STEP;
PLAYFRAMES 19;
KEYBOARDLOCK;
KEYBOARDUNLOCK WASDZX;
MESSAGE HINTADVKICK10;
MOVEJOINT L_KNEE FORWARD;

STEP;
KEYBOARDLOCK;
KEYBOARDUNLOCK WASD ;
CUSTOMFUNC RequireKeyPressSpace;

STEP;
TASKCOMPLETE;
KEYBOARDLOCK;
PLAYFRAMES 9;

STEP;
PLAYSOUND 22;
HIDEHINTMESSAGE;
SHOWSAYMESSAGE;
SAY PLAYER;
MESSAGE PLAYERKICK1;
MOVEPLAYER TORI NECK HOLD;
MOVEPLAYER TORI L_SHOULDER FORWARD;
MOVEPLAYER TORI CHEST FORWARD;
MOVEPLAYER TORI L_HIP BACK;
MOVEPLAYER TORI ABS FORWARD;
MOVEPLAYER TORI R_KNEE HOLD;
MOVEPLAYER TORI R_SHOULDER FORWARD;
MOVEPLAYER TORI L_KNEE HOLD;
MOVEPLAYER TORI R_ELBOW BACK;
MOVEPLAYER TORI L_GLUTE HOLD;
MOVEPLAYER TORI L_PECS FORWARD;
MOVEPLAYER TORI L_ANKLE FORWARD;
MOVEPLAYER TORI R_PECS FORWARD;
MOVEPLAYER TORI R_ANKLE HOLD;
MOVEPLAYER TORI L_WRIST HOLD;
MOVEPLAYER TORI LUMBAR FORWARD;
MOVEPLAYER TORI R_WRIST HOLD;
MOVEPLAYER TORI L_ELBOW BACK;
MOVEPLAYER TORI R_HIP BACK;
MOVEPLAYER TORI R_GLUTE FORWARD;
PLAYFRAMES 60;
ADVANCE;
WAITBUTTON;

STEP;
HIDETASKMESSAGE;
SAY SENSEI;
MESSAGE SENSEIADVKICK4;
ADVANCE;
WAITBUTTON;

STEP;
HIDESAYMESSAGE;
ADVANCE;
OUTROFADE;

STEP;
LOADREPLAY t3_stage3.rpl;
LOADPLAYER 0 PLAYER;
//LOADPLAYER 1 SENSEI;
DISABLECAMERA;
INTROFADE;
PLAYFRAMES 20;

STEP;
SHOWSAYMESSAGE;
SAY SENSEI;
MESSAGE SENSEIMOVEMEMORY1;
PLAYFRAMES 10;
WAITBUTTON;

STEP;
SAY SENSEI;
MESSAGE SENSEIMOVEMEMORY2;
ADVANCE;
PLAYFRAMES 25;
CUSTOMFUNC ShowMovememoryMoves;
WAITBUTTON;

STEP;
SAY SENSEI;
MESSAGE SENSEIMOVEMEMORY3;
ADVANCE;
PLAYFRAMES 85;
WAITBUTTON;

STEP;
SAY SENSEI;
MESSAGE SENSEIMOVEMEMORY4;
CUSTOMFUNC HideMovememoryMoves;
ADVANCE;
PLAYFRAMES 60;
WAITBUTTON;

STEP;
HIDESAYMESSAGE;
PLAYFRAMES 30;
ADVANCE;
OUTROFADE;
HIDEWAITBUTTON;

STEP;
ENABLECAMERA;
NEWGAME aikido.tbm;
INTROFADE;

STEP;
SHOWTASKMESSAGE;
TASK MMEMORYTASK;
EDITGAME;
GHOSTMODE ALL;
KEYBOARDUNLOCK WASD;
SHOWHINTMESSAGE;
MESSAGE HINTMOVEMEMORY1;

STEP;
KEYBOARDUNLOCK M;
CUSTOMFUNC RequireKeyPressMShow;

STEP;
KEYBOARDLOCK;
KEYBOARDUNLOCK WASD;
MESSAGE HINTMOVEMEMORY2;
CUSTOMFUNC CheckJointStateChange;
ADVANCE;

STEP;
KEYBOARDUNLOCK  ;
CUSTOMFUNC RequireKeyPressSpace;

STEP;
TASKCOMPLETE;
KEYBOARDLOCK;
KEYBOARDUNLOCK WASD;
MESSAGE HINTMOVEMEMORY3;
ADVANCE;
WAITBUTTON;

STEP;
PLAYFRAMES 20;
HIDETASKMESSAGE;
MESSAGE HINTMOVEMEMORY4;
KEYBOARDUNLOCK M;
CUSTOMFUNC RequireKeyPressM;

STEP;
ADVANCE;
HIDEHINTMESSAGE;
SHOWSAYMESSAGE;

STEP;
SAY SENSEI;
MESSAGE SENSEIMOVEMEMORY5;
WAITBUTTON;

STEP;
HIDESAYMESSAGE;
OUTROFADE;
